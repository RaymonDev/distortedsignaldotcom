const $c=document.querySelector('.cursor');let mx=0,my=0,cx=0,cy=0,mv=0,lx=0,ly=0;document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;const dx=mx-lx,dy=my-ly;mv=Math.sqrt(dx*dx+dy*dy);lx=mx;ly=my});function upd(){const dx=mx-cx,dy=my-cy;cx+=dx*0.35;cy+=dy*0.35;$c&&($c.style.left=cx-20+'px',$c.style.top=cy-20+'px');requestAnimationFrame(upd)}upd();function setupGlitch(){const lnk=document.querySelectorAll('.link-item');lnk.forEach(l=>{const lbl=l.querySelector('.link-label');l.addEventListener('mouseenter',()=>{trigGlitch(lbl)})})}function trigGlitch(el){const t1='translate(-5px, 2px) skew(0.5deg)',t2='translate(3px, -1px)';el.style.transform=t1;setTimeout(()=>{el.style.transform=t2},60);setTimeout(()=>{el.style.transform=''},120)}function flashEl(el){const g=[`translate(${Math.random()*8-4}px, ${Math.random()*8-4}px) skew(${Math.random()*3-1.5}deg)`,`translate(${Math.random()*-8+4}px, ${Math.random()*8-4}px) skew(${Math.random()*-3+1.5}deg)`,`scale(${0.97+Math.random()*0.06}) translate(${Math.random()*5-2.5}px, ${Math.random()*5-2.5}px)`,`skew(${Math.random()*4-2}deg, ${Math.random()*2-1}deg) translate(${Math.random()*6-3}px, ${Math.random()*6-3}px)`],ot=el.style.transform;el.style.transform=g[Math.floor(Math.random()*g.length)];setTimeout(()=>{el.style.transform=ot},40+Math.random()*40)}function trigFlash(){const ov=document.querySelector('.glitch-overlay');ov&&(ov.style.opacity='1',setTimeout(()=>{ov.style.opacity='0'},60+Math.random()*80),setTimeout(trigFlash,6000+Math.random()*8000))}function trigDist(){const lnk=document.querySelectorAll('.link-item'),rl=lnk[Math.floor(Math.random()*lnk.length)];if(rl){const d=['skewX(-5deg) translateX(-5px)','skewX(5deg) translateX(5px)','skewY(-3deg) translateY(-3px)','scale(1.02, 0.98) translateX(-3px)','scale(0.98, 1.02) translateX(3px)'],rd=d[Math.floor(Math.random()*d.length)];rl.style.transform=rd;setTimeout(()=>{rl.style.transform=''},100)}setTimeout(trigDist,4000+Math.random()*6000)}function scramble(el,txt){const ch='ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()_+-=[]{}|<>?/~';let i=0;const max=8,iv=setInterval(()=>{el.textContent=txt.split('').map((c,idx)=>idx<i?txt[idx]:c===' '?' ':ch[Math.floor(Math.random()*ch.length)]).join('');i++;i>max&&(clearInterval(iv),el.textContent=txt)},60)}document.querySelectorAll('.link-item').forEach(l=>{const lbl=l.querySelector('.link-label'),txt=lbl.textContent;l.addEventListener('mouseenter',()=>{scramble(lbl,txt)});l.addEventListener('mouseleave',()=>{lbl.textContent=txt})});setupGlitch();trigFlash();trigDist();
